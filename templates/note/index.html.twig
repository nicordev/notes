{% extends 'main_layout.html.twig' %}

{% block title %}Notes{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset("/css/note_form.css") }}">
    <link rel="stylesheet" href="{{ asset("/css/note_list.css") }}">
{% endblock %}

{% block header %}
    <h1>Notes</h1>
{% endblock %}

{% block content %}
    {% include 'note/component/note_form.html.twig' %}

    <section class="note-list">
        {% for note in notes %}
            <article class="note-list-element">
                <h2 class="note-list-element-title">{{ note.title }}<span class="note-list-element-commands"><a class="btn btn-warning" href="{{ path('notes_edit', {'id': note.id}) }}">Edit</a><a class="btn btn-danger" href="{{ path('notes_delete', {'id': note.id}) }}">Delete</a></span></h2>
                {% if note.author %}
                    <div class="note-list-element-metadata">{{ note.author.username }}</div>
                {% endif %}
                <div class="note-list-element-content">{{ note.content }}</div>
            </article>
        {% endfor %}
    </section>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('/js/MarkdownParser/marked.js') }}"></script>
    <script src="{{ asset('/js/MarkdownParser/MarkdownParser.js') }}"></script>
    <script src="{{ asset('/js/notes_index.js') }}"></script>
{% endblock %}